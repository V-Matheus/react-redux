<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="./immer.umd.production.min.js"></script>
  <script src="./redux.min.js"></script>

  <title>Redux</title>
</head>

<body>

  <h1 id="aulas"></h1>
  <h1 id="aluno"></h1>



  <script type="module">
// Usando o Redux (pode usar Immer ou Não).
// Crie uma store contendo os estados iniciais abaixo
// Crie as seguintes ações:
// aluno/INCREMENTAR_TEMPO, adiciona 1 dia de acesso
// aluno/REDUZIR_TEMPO, reduz 1 dia de acesso
// aluno/MODIFICAR_EMAIL(email), modifica o email do usuário
// aulas/COMPLETAR_AULA(id), completa a aula com base no ID passado
// aulas/COMPLETAR_CURSO, completa todas as aulas
// aulas/RESETAR_CURSO, reseta todas as aulas completas
// Crie constantes e action creators para as ações.
// Crie um reducer para aluno e um para aulas.
// Renderize na tela o nome, email, tempo restante e o total de aulas completas
// Configure a DevTools

  import store from './store/configureStore.js';
  import {incrementar_tempo, reduzir_tempo, modificar_email} from './store/aluno.js'
  import {completar_aula, completar_curso, resetar_curso} from './store/aulas.js'


  function render() {
    const {aluno,aulas} = store.getState()
    const aulasEl = document.getElementById('aulas')
    const alunoEl = document.getElementById('aluno')

    alunoEl.innerText = `${aluno.nome} : ${aluno.email} : ${aluno.diasRestantes}`
    aulasEl.innerText = aulas.filter((aula) => aula.completa === true).length
  }

  render()

  store.subscribe(render)

  store.dispatch(incrementar_tempo())
  store.dispatch(incrementar_tempo())
  store.dispatch(reduzir_tempo())
  store.dispatch(modificar_email('victormatheus@gmail.com'))
  store.dispatch(completar_aula(4))
  store.dispatch(completar_aula(2))
  store.dispatch(completar_curso())

  </script>
</body>

</html>